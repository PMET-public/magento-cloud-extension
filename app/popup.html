<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <!-- build:css styles/popup-vendor.css -->
    <!-- bower:css -->
    <!-- endbower -->
    <!-- endbuild -->
    <!-- build:css styles/main.css -->
    <link href="styles/main.css" rel="stylesheet">
    <!-- endbuild -->
  </head>
  <body>
    <nav id="top-nav">
      <a href="https://demo.magento.cloud/projects/" title="Magento Cloud Projects" target="_blank"><span class="mdi mdi-cloud-circle"></span></a>
      <a id="slack-link" href="slack://channel?team=T025FJ55H&id=C0MQZ62DV" title="Slack Support Channel" target="_blank"><img id="slack-link-logo" src="images/slack-logo.png"></a>
    </nav>
    <h3 class="extension-title">Magento Cloud Extension
      <a href="https://github.com/PMET-public/magento-cloud-extension" title="Extension Home" target="_blank"><span class="mdi mdi-open-in-new"></span></a>
    </h3>
    <div id="tabs">
      <ul id="tab-list">
        <li><a href="#css-injector-container"><span class="mdi mdi-bullseye-arrow not-interactive"></span> CSS Injector</a></li>
        <li><a href="#store-scraper"><span class="mdi mdi-briefcase-download not-interactive"></span> Store Scraper</a></li>
        <li><a href="#commands"><span class="mdi mdi-console not-interactive"></span> Commands</a></li>
      </ul>
      <div id="css-injector-container">
          <div id="css-injector-toggler">
            <span class="mdi mdi-power"></span><br>
            Turn CSS Injector On/Off
            <span data-descr="Check every page of every site you visit for CSS to inject. Recommended during demos and demo preparation." class="mdi mdi-help"></span>
          </div>

          Enter your own CSS URL or select an option for<br>
          <span id="css-url-applied-domain"></span>:<br>
          <div id="css-url-input-row">
            <span id="css-dev-mode-help" data-descr="Look for recent CSS changes on every page load. Check this while creating your own stylesheets but NOT during demos." class="mdi mdi-help"></span>
            <label id="css-dev-mode" class="custom-checkbox"> 
                CSS Dev Mode
                <input type="checkbox">
                <span class="checkmark"></span>
            </label>
            <span class="mdi mdi-close-circle-outline"></span>
            <span class="mdi mdi-arrow-down-drop-circle-outline"></span>
            <span id="css-url-error-msg">Must start with https://</span>
            <input id="css-url-input" type="text" class="" placeholder=" https://...">
            <button id="css-url-save" type="button" class="ui-button ui-corner-all ui-widget" value="save">save</button>
            <button id="css-url-delete" type="button" class="ui-button ui-corner-all ui-widget" value="delete">delete</button>
          </div>
          <div id="css-name-dialog" title="Name your stylesheet">
              <input id="css-name-dialog-input" type="text" class="has-error" placeholder="Stylesheet name ..." size="20">
          </div>
      </div>
      <div id="store-scraper">
        <!-- image-downloader start -->
        <div id="filters_container">
          <button id="download_button" class="ui-button ui-corner-all"></button>
          <table id="filter_inputs_container" class="grid">
            <tr>
              <td>
                <label><span class="mdi mdi-folder-download not-interactive"></span></label>
              </td>
              <td>
                <input type="text" id="folder_name_textbox" placeholder="Save to subfolder" title="Set the name of the subfolder you want to download the images to" readonly disabled />
              </td>
            </tr>
            <tr id="image_url_filter">
              <td>
                <label><span class="mdi mdi-filter not-interactive"></span></label> 
              </td>
              <td>
                <input type="text" id="filter_textbox" placeholder="Filter by url" title="Filter by parts of the URL" />
                <input type="hidden" id="filter_url_mode_input" value="normal">
              </td>
            </tr>
          </table>
          <table class="grid">
            <tr id="image_width_filter">
              <td>Width:</td>
              <td style="text-align: right;">
                <label for="image_width_filter_min_checkbox">
                  <small id="image_width_filter_min"></small>
                </label>
              </td>
              <td><input type="checkbox" id="image_width_filter_min_checkbox" checked /></td>
              <td><div id="image_width_filter_slider"></div></td>
              <td><input type="checkbox" id="image_width_filter_max_checkbox" /></td>
              <td style="text-align: right;">
                <label for="image_width_filter_max_checkbox">
                  <small id="image_width_filter_max"></small>
                </label>
              </td>
            </tr>
            <tr id="image_height_filter">
              <td>Height:</td>
              <td style="text-align: right;">
                <label for="image_height_filter_min_checkbox">
                  <small id="image_height_filter_min"></small>
                </label>
              </td>
              <td><input type="checkbox" id="image_height_filter_min_checkbox" /></td>
              <td><div id="image_height_filter_slider"></div></td>
              <td><input type="checkbox" id="image_height_filter_max_checkbox" /></td>
              <td style="text-align: right;">
                <label for="image_height_filter_max_checkbox">
                  <small id="image_height_filter_max"></small>
                </label>
              </td>
          </table>
          <label id="only_images_from_links_container" title="Only show images from direct links on the page; this can be useful on sites like Reddit">
            <input type="checkbox" id="only_images_from_links_checkbox" />Only images from links
          </label>
        </div>
        <div id="images_cache"></div>
        <table id="images_table" class="grid"></table>
        <!-- image-downloader end -->
      </div>
      <div id="commands">
        <div id="commands-accordion">
          <h3>Prerequisites</h3>
          <div>
            <div class="cli-cmd-container">
              <b>Install the Magento Cloud CLI</b><br>
              <input class="cli-cmd" type="text" value="curl -sS https://accounts.magento.cloud/cli/installer | php" readonly> <span class="mdi mdi-content-copy simple-copy"></span>
            </div>
            <div class="cli-cmd-container">
              <b>Setup local ssh keys</b><br>
              <input class="cli-cmd" type="text" value="ssh-keygen -t rsa -N '' -f ~/.ssh/id_rsa.magento; ~/.magento-cloud/bin/magento-cloud ssh-key:add ~/.ssh/private-keys/id_rsa.magento --yes" readonly> <span class="mdi mdi-content-copy simple-copy"></span>
            </div>
          </div>
          <h3>Useful Commands</h3>
          <div>
            <div class="cli-cmd-container">
              <b>Reset admin password for current store</b><br>
              <input id="password-cli-cmd" class="cli-cmd" type="text" value="curl -sS https://raw.githubusercontent.com/PMET-public/magento-cloud-extension/master/sh-scripts/reset-admin.sh | env url={{url}} password={{password}} bash" readonly> <span id="password-prompt" class="mdi mdi-pencil-lock"></span>
              <div id="password-dialog" title="Set the password for this environment">
                * Must be at least 7 alphanumeric characters<br>
                * Include at least 1 of each (alphabetic & numeric)<br>
                * Special characters are not allowed<br>
                <input id="password-dialog-input" type="text" class="has-error" placeholder="Enter password ..." size="20">
              </div>
            </div>
            <div class="cli-cmd-container">
              <b>Rerun indexers for current store</b><br>
              <input class="cli-cmd" type="text" value="curl -sS https://raw.githubusercontent.com/PMET-public/magento-cloud-extension/master/sh-scripts/rerun-indexers.sh | env url={{url}} bash" readonly> <span class="mdi mdi-content-copy simple-copy"></span>
            </div>
            <div class="cli-cmd-container">
              <b>Check load for current env</b><br>
              <input class="cli-cmd" type="text" value="curl -sS https://raw.githubusercontent.com/PMET-public/magento-cloud-extension/master/sh-scripts/check-load.sh | env url={{url}} bash" readonly> <span class="mdi mdi-content-copy simple-copy"></span>
            </div>
            <div class="cli-cmd-container">
              <b>Check services (nginx, MySQL, Redis, Elasitic search) for current env</b><br>
              <input class="cli-cmd" type="text" value="curl -sS https://raw.githubusercontent.com/PMET-public/magento-cloud-extension/master/sh-scripts/check-services.sh | env url={{url}} bash" readonly> <span class="mdi mdi-content-copy simple-copy"></span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- build:js scripts/popup-vendor.js -->
    <!-- bower:js -->
    <!-- endbower -->
    <!-- endbuild -->
    <!-- build:js scripts/popup.js -->
    <script src="combined/1-js-jquery-deps.js"></script>
    <script src="combined/2-js-image-downloader.js"></script>
    <script src="combined/3-js-mcm-ext.js"></script>
    <!-- endbuild -->
  </body>
</html>
